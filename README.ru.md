# üé∏ Guitar Workshop

**Guitar Workshop** ‚Äî —ç—Ç–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Go, –∫–æ—Ç–æ—Ä–æ–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≥–∏—Ç–∞—Ä–Ω—ã–µ —Ç–∞–±—É–ª–∞—Ç—É—Ä—ã –∏–∑ –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤. –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –∞–Ω–∞–ª–∏–∑ –∞—É–¥–∏–æ, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–æ—Ç –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é —á–∏—Ç–∞–µ–º—ã—Ö —Ç–∞–±–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é –Ω–∞ –≥–∏—Ç–∞—Ä–µ.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üéµ –ó–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ (WAV/MP3)
- üéº –í—ã–¥–µ–ª–µ–Ω–∏–µ –≥–∏—Ç–∞—Ä–Ω–æ–π –ø–∞—Ä—Ç–∏–∏ (source separation)
- üß† –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–æ—Ç —Å –ø–æ–º–æ—â—å—é ML-–º–æ–¥–µ–ª–∏ (Basic Pitch)
- üé∏ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≥–∏—Ç–∞—Ä–Ω—ã—Ö —Ç–∞–±–æ–≤ (—Å —É—á–µ—Ç–æ–º –∞–ø–ø–ª–∏–∫–∞—Ç—É—Ä)
- üñ•Ô∏è –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–∞–±—É–ª–∞—Ç—É—Ä
- üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –ø–æ–∏—Å–∫ —Ç–∞–±—É–ª–∞—Ç—É—Ä –≤ PostgreSQL
- üåê REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–∞–±—É–ª–∞—Ç—É—Ä–∞–º–∏


## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏ —á–µ—Ä–µ–∑ **gRPC**.

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç          | –Ø–∑—ã–∫     | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|--------------------|----------|------------|
| `api-gateway`      | Go       | –ü—Ä–∏—ë–º –∞—É–¥–∏–æ, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è |
| `tab-generator`    | Go       | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–∞–±—É–ª–∞—Ç—É—Ä –ø–æ –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã–º –Ω–æ—Ç–∞–º |
| `audio-preprocessor` | C++ (–æ—Ç–∫–ª—é—á–µ–Ω) | –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞: trim, normalize, —Ñ–∏–ª—å—Ç—Ä—ã |
| `audio-separator`  | Python   | Source separation (–≤—ã–¥–µ–ª–µ–Ω–∏–µ –≥–∏—Ç–∞—Ä—ã) |
| `note-analyzer`    | Python   | ML-–∞–Ω–∞–ª–∏–∑ –∞—É–¥–∏–æ: –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –Ω–æ—Ç |
| `PostgreSQL`       | SQL      | –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Ç–∞–±—É–ª–∞—Ç—É—Ä                  |

---


## REST API (Echo)

| –≠–Ω–¥–ø–æ–∏–Ω—Ç               | –ú–µ—Ç–æ–¥  | –û–ø–∏—Å–∞–Ω–∏–µ                                     |
|------------------------|--------|----------------------------------------------|
| `/`                    | GET    | –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å                    |
| `/tab/generate`        | POST   | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–∞–±—É–ª–∞—Ç—É—Ä—ã –∏–∑ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ –∞—É–¥–∏–æ   |
| `/tab/save`            | POST   | –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∞–±—É–ª–∞—Ç—É—Ä—ã –≤ –ë–î                   |
| `/tab/search`          | GET    | –ü–æ–∏—Å–∫ —Ç–∞–±—É–ª–∞—Ç—É—Ä –ø–æ –∏–º–µ–Ω–∏                     |
| `/tab/:id`             | GET    | –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–∞–±—É–ª–∞—Ç—É—Ä—ã –ø–æ ID (JSON)            |
| `/tab/view/:id`        | GET    | HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Ç–∞–±—É–ª–∞—Ç—É—Ä–æ–π                  |
| `/audio/separate`      | POST   | –í—ã–¥–µ–ª–µ–Ω–∏–µ –≥–∏—Ç–∞—Ä—ã –∏–∑ –º–∏–∫—Å–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)      |

---

## –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```sql
CREATE EXTENSION IF NOT EXISTS "pgcrypto";

CREATE TABLE tabs (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name TEXT NOT NULL,
    created_at TIMESTAMP NOT NULL DEFAULT now(),
    file_path TEXT NOT NULL,
    UNIQUE(name)
);
```

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–∞–±–æ–≤ –¥–ª—è *Maneskin - Coriline*.
–ï—Å–ª–∏ —Å—ã–≥—Ä–∞—Ç—å —ç—Ç–æ –Ω–∞ –≥–∏—Ç–∞—Ä–µ, —Ç–æ –∑–≤—É—á–∞–Ω–∏–µ –±—É–¥–µ—Ç –ø–æ—Ö–æ–∂–∏–º.
![–ü—Ä–∏–º–µ—Ä —Ç–∞–±—É–ª–∞—Ç—É—Ä—ã](./docs/example-tab.png)

–ü–æ–ª–Ω—ã–µ —Ç–∞–±—ã:
```text
e|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
B|---------------------------11---1111----11---------------------------------------------------------11--11-----11----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------8--66-6-666------------------------------------------------------------------------------11-----11--11---
G|--------10--10---10---10------------------12-12-12---1212----14--14--12-12--12---10--10---10--10------------------12-12--12---12--12---14--14--1212--12---1010----1010----15--15---15---15--12---12-12---12--12-----14--1414--12-12--12---10--10---10---10---15--15----15--15--12---12--12-12----12---14--14--12-12------------0-15--15----15--15---12--12---12-----14--14---12---12--12---10---10---1010------------------12
D|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------0-0-000----------------------------------------------------------------------------------------------
A|------------------------10---10---10-10---------------------------------------------------------10---10-----10---------------------------------------------------------10---------------------------------------------------------------------------------10-----------------------------------------------------7-7--5-----------------------------------------------------------------------------------10-----10---10---7-
E|-----10---10--10---10---------------------12-12-1212---12-13---13--12---1212---10--10--10---10------------------12---1212--12---12--13---13--12--1212--10---10-10---10------15--15---15---12---12---1212---12--1213---13--1312---1212---10--10--10---10--------15--15----15--12---12--12---12--12--13---13--12---------------------15--15----15---12--12--12-----13---13---12---12--12---10--10---10---10--------------------
```

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∞–±—É–ª–∞—Ç—É—Ä—ã
![Saving tab](./docs/example-saving-tab.png)


### –ü–æ–∏—Å–∫ —Ç–∞–±—É–ª–∞—Ç—É—Ä
![Searching tab](./docs/example-searching-tab.png)


### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–∞–±—É–ª–∞—Ç—É—Ä—ã
![Viewing saved tab](./docs/example-saved-tab.png)



### –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∞—É–¥–∏–æ
![–ü—Ä–∏–º–µ—Ä —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è](./docs/example-separation.png)

# –ê–ª–≥–æ—Ä–∏—Ç–º –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–∞–±–æ–≤
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É –Ω–∞ –≥–æ [guitar](https://github.com/er-davo/guitar), –Ω–∞–ø–∏—Å–∞–Ω–Ω—É—é –º–Ω–æ–π
1. –ö–∞–∂–¥–∞—è –Ω–æ—Ç–∞ –ø–æ–ª—É—á–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞ –≥—Ä–∏—Ñ–µ (`Playable`)
2. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø–æ–∏—Å–∫–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
3. –ê–ª–≥–æ—Ä–∏—Ç–º –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É –ø–æ–∑–∏—Ü–∏—è–º–∏ (—É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è: –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –ø–æ –≥—Ä–∏—Ñ—É, —Å–º–µ–Ω–∞ —Å—Ç—Ä—É–Ω, —Ä–∞—Å—Ç—è–∂–∫–∞ –ø–∞–ª—å—Ü–µ–≤)